

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>LocalBus &mdash; Corsair  documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="_static/custom.css?v=7b1f1a5f" />

  
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=5929fcd5"></script>
      <script src="_static/doctools.js?v=9bcbadda"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Register map" href="regmap-api.html" />
    <link rel="prev" title="Avalon-MM" href="amm.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            Corsair
              <img src="_static/logo_white.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Basics</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="regmap.html">Register map</a></li>
<li class="toctree-l1"><a class="reference internal" href="config.html">Configuration file</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Protocols</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="apb.html">APB</a></li>
<li class="toctree-l1"><a class="reference internal" href="axil.html">AXI-Lite</a></li>
<li class="toctree-l1"><a class="reference internal" href="amm.html">Avalon-MM</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">LocalBus</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#signals">Signals</a></li>
<li class="toctree-l2"><a class="reference internal" href="#transfers">Transfers</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#simple-write">Simple write</a></li>
<li class="toctree-l3"><a class="reference internal" href="#write-with-bytes-strobes">Write with bytes strobes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#write-with-wait-states">Write with wait states</a></li>
<li class="toctree-l3"><a class="reference internal" href="#simple-read">Simple read</a></li>
<li class="toctree-l3"><a class="reference internal" href="#read-with-wait-states">Read with wait states</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="regmap-api.html">Register map</a></li>
<li class="toctree-l1"><a class="reference internal" href="generators-api.html">Generators</a></li>
<li class="toctree-l1"><a class="reference internal" href="config-api.html">Configuration</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Miscellaneous</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Developer’s guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Changelog</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Corsair</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">LocalBus</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/lb.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="localbus">
<span id="lb"></span><h1>LocalBus<a class="headerlink" href="#localbus" title="Link to this heading"></a></h1>
<p>LocalBus is a custom bus interface. You can use it for your register map, hovewer, it was designed specially
to simplify integrating more common bus interfaces to register map. It acts as internal “virtual” interface.</p>
<p>In fact, all other supported buses (APB, AXI-Lite and etc.) in corsair are nothing more than just bridges to LocalBus interface
under the hood.</p>
<section id="signals">
<h2>Signals<a class="headerlink" href="#signals" title="Link to this heading"></a></h2>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Signal</p></th>
<th class="head"><p>Width</p></th>
<th class="head"><p>Direction</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>waddr</p></td>
<td><p>&gt;1</p></td>
<td><p>input</p></td>
<td><p>Write address bus</p></td>
</tr>
<tr class="row-odd"><td><p>wdata</p></td>
<td><p>&gt;1</p></td>
<td><p>input</p></td>
<td><p>Write data bus</p></td>
</tr>
<tr class="row-even"><td><p>wen</p></td>
<td><p>1</p></td>
<td><p>input</p></td>
<td><p>Write request enable signal</p></td>
</tr>
<tr class="row-odd"><td><p>wstrb</p></td>
<td><p>&gt;1</p></td>
<td><p>input</p></td>
<td><p>Write byte strobe bus (one bit for every write data byte)</p></td>
</tr>
<tr class="row-even"><td><p>wready</p></td>
<td><p>1</p></td>
<td><p>output</p></td>
<td><p>Write request ready signal</p></td>
</tr>
<tr class="row-odd"><td><p>raddr</p></td>
<td><p>&gt;1</p></td>
<td><p>input</p></td>
<td><p>Read address bus</p></td>
</tr>
<tr class="row-even"><td><p>ren</p></td>
<td><p>1</p></td>
<td><p>input</p></td>
<td><p>Read request enable signal</p></td>
</tr>
<tr class="row-odd"><td><p>rdata</p></td>
<td><p>&gt;1</p></td>
<td><p>output</p></td>
<td><p>Read data bus</p></td>
</tr>
<tr class="row-even"><td><p>rvalid</p></td>
<td><p>1</p></td>
<td><p>output</p></td>
<td><p>Read data valid signal</p></td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Specific bit widths for buses are defined in <code class="docutils literal notranslate"><span class="pre">globcfg</span></code> section of a <code class="docutils literal notranslate"><span class="pre">csrconfig</span></code> file.</p>
</div>
</section>
<section id="transfers">
<h2>Transfers<a class="headerlink" href="#transfers" title="Link to this heading"></a></h2>
<p>Only simple single transfers are supported. No bursts or stream accesses. Every transfer can be extended with special signals.</p>
<p>Just for example, data bus is 32 bits wide for all the waveforms below.</p>
<section id="simple-write">
<h3>Simple write<a class="headerlink" href="#simple-write" title="Link to this heading"></a></h3>
<p>Write data <code class="docutils literal notranslate"><span class="pre">D0</span></code> to address <code class="docutils literal notranslate"><span class="pre">A0</span></code>.</p>
<img alt="_images/wavedrom-9319019c-b7b9-4d82-8f74-68603a1594eb.svg" src="_images/wavedrom-9319019c-b7b9-4d82-8f74-68603a1594eb.svg" />
</section>
<section id="write-with-bytes-strobes">
<h3>Write with bytes strobes<a class="headerlink" href="#write-with-bytes-strobes" title="Link to this heading"></a></h3>
<p>Byte strobe signalling to write only bytes 1 and 2 (<code class="docutils literal notranslate"><span class="pre">wstrb</span> <span class="pre">=</span> <span class="pre">0x6</span> <span class="pre">=</span> <span class="pre">0b0110</span></code>) of <code class="docutils literal notranslate"><span class="pre">D0</span></code> word.</p>
<img alt="_images/wavedrom-404bd804-182a-4e01-b1ef-52be806c0502.svg" src="_images/wavedrom-404bd804-182a-4e01-b1ef-52be806c0502.svg" />
</section>
<section id="write-with-wait-states">
<h3>Write with wait states<a class="headerlink" href="#write-with-wait-states" title="Link to this heading"></a></h3>
<p>Write data <code class="docutils literal notranslate"><span class="pre">D0</span></code> to address <code class="docutils literal notranslate"><span class="pre">A0</span></code>, then write <code class="docutils literal notranslate"><span class="pre">D1</span></code> to <code class="docutils literal notranslate"><span class="pre">A1</span></code> ends (<code class="docutils literal notranslate"><span class="pre">wen</span></code> goes low) as soon as <code class="docutils literal notranslate"><span class="pre">wready</span></code> become high.</p>
<img alt="_images/wavedrom-6ce327c0-aaed-402c-978d-23b3faba5af8.svg" src="_images/wavedrom-6ce327c0-aaed-402c-978d-23b3faba5af8.svg" />
</section>
<section id="simple-read">
<h3>Simple read<a class="headerlink" href="#simple-read" title="Link to this heading"></a></h3>
<p>Read data <code class="docutils literal notranslate"><span class="pre">D0</span></code> from address <code class="docutils literal notranslate"><span class="pre">A0</span></code>. Minimum response time - 1 tick. “Combinatoral” (in the same tick) read is not supported.
Read ends (<code class="docutils literal notranslate"><span class="pre">ren</span></code> goes low) after <code class="docutils literal notranslate"><span class="pre">rvalid</span></code> is asserted.</p>
<img alt="_images/wavedrom-46058825-eabe-40e3-aa96-addd633e7df9.svg" src="_images/wavedrom-46058825-eabe-40e3-aa96-addd633e7df9.svg" />
</section>
<section id="read-with-wait-states">
<h3>Read with wait states<a class="headerlink" href="#read-with-wait-states" title="Link to this heading"></a></h3>
<p>Read data <code class="docutils literal notranslate"><span class="pre">D0</span></code> from address <code class="docutils literal notranslate"><span class="pre">A0</span></code> with 2 wait states.</p>
<img alt="_images/wavedrom-70ad2469-eb97-43b0-a06a-3ade95141088.svg" src="_images/wavedrom-70ad2469-eb97-43b0-a06a-3ade95141088.svg" />
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="amm.html" class="btn btn-neutral float-left" title="Avalon-MM" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="regmap-api.html" class="btn btn-neutral float-right" title="Register map" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021, esynr3z.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>